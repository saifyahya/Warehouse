<div class="container mt-5">
  <div class="col-12 text-end mb-3">
    <!-- Button to trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#productModal">
       + New Product
    </button>
  </div>

  <h2 class="text-center">Product List</h2>
  <h6>Warehouse Number: {{userWarehouse?.id}}</h6>
  <h6>Warehouse Capacity: {{userWarehouse?.capacity}}</h6>

  <!-- Table for displaying products -->
  <table class="table table-striped table-bordered mt-4">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Description</th>
        <th>Code</th>
        <th>Price</th>
        <th>Stock Level</th>
        <th>Warehouse Number</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.description }}</td>
        <td>{{ product.code }}</td>
        <td>${{ product.price | number: '1.2-2' }}</td>
        <td>{{ product.stockLevel }}</td>
        <td>{{ product.storeId }}</td>
        <td> <button style="margin-right: 5px;" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eidtProductModal" (click)="actionProduct(product)">
          Edit
      </button>
      <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal" (click)="actionProduct(product)">
        Delete
    </button>
    </td>
      </tr>
    </tbody>
  </table>

  <app-new-product [storeCapacity]="userWarehouse?.capacity?userWarehouse?.capacity:0" [totalStock]="totalStockLevel"></app-new-product>
  <app-edit-product [productToEdit]="productToEdit" [storeCapacity]="userWarehouse?.capacity"[totalStock]="totalStockLevel"></app-edit-product>
  <app-delete-product [productToDelete]="productToEdit" ></app-delete-product>
</div>
